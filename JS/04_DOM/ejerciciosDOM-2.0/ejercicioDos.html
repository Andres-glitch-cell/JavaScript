<HTML>
<HEAD>
    <TITLE>Ejercicio 2 - DOM y Listas</TITLE>
    <script>
        // Función para crear un elemento <li> con texto
        function crearItemLista(texto) {
            const nuevoItem = document.createElement('li');
            const textoNodo = document.createTextNode(texto);
            nuevoItem.appendChild(textoNodo);
            return nuevoItem;
        }

        // Añadir elemento (al final de la lista)
        function agregarAnimal() {
            const lista = document.getElementById('listaelemen');
            const nuevoAnimal = crearItemLista('tigre'); // Animal libre
            lista.appendChild(nuevoAnimal);
        }

        // Insertar elemento (al principio de la lista)
        function insertarAnimal() {
            const lista = document.getElementById('listaelemen');
            const primerItem = lista.getElementsByTagName('li')[0];
            const nuevoAnimal = crearItemLista('elefante'); // Animal libre
            
            // Insertamos el nuevo animal antes del primer elemento
            lista.insertBefore(nuevoAnimal, primerItem);
        }

        // Reemplazar elemento (el segundo)
        function reemplazarAnimal() {
            const lista = document.getElementById('listaelemen');
            const items = lista.getElementsByTagName('li');
            
            if (items.length >= 2) {
                const itemAReemplazar = items[1]; // Segundo ítem (pantera)
                const nuevoAnimal = crearItemLista('cebra'); // Animal libre
                
                lista.replaceChild(nuevoAnimal, itemAReemplazar);
            } else {
                alert('No hay suficientes elementos para reemplazar el segundo.');
            }
        }

        // Borrar elemento (el último)
        function borrarAnimal() {
            const lista = document.getElementById('listaelemen');
            // lastElementChild da el último <li>
            const ultimoItem = lista.lastElementChild;
            
            if (ultimoItem) {
                lista.removeChild(ultimoItem);
            } else {
                alert('La lista está vacía.');
            }
        }

        // 1. Crear Sublista con Funciones DOM
        function crearSublistaDOM() {
            const lista = document.getElementById('listaelemen');
            const itemLeon = lista.getElementsByTagName('li')[0];

            // Si el ítem "león" ya tiene una sublista, salimos
            if (itemLeon.querySelector('ul')) return;
            
            // Crear el <ul> padre
            const subLista = document.createElement('ul');
            
            // Crear los <li> hijos
            subLista.appendChild(crearItemLista('cachorro de león'));
            subLista.appendChild(crearItemLista('leona'));
            
            // Insertar la sublista dentro del <li> "león"
            itemLeon.appendChild(subLista);
        }

        // 2. Crear Sublista con InnerHTML
        function crearSublistaInnerHTML() {
            const lista = document.getElementById('listaelemen');
            const itemLeon = lista.getElementsByTagName('li')[0];

            // Si el ítem "león" ya tiene una sublista, salimos
            if (itemLeon.querySelector('ul')) return;

            // Usar innerHTML (propiedad) para añadir el HTML de la sublista
            itemLeon.innerHTML += `
                <ul>
                    <li>cachorro de león (InnerHTML)</li>
                    <li>leona (InnerHTML)</li>
                </ul>
            `;
        }
    </script>
</HEAD>
<BODY>
    <H1>ANIMALES</H1>
    <Ul id="listaelemen">
        <li>león</li>
        <li>pantera</li>
        <li>jirafa</li>
    </UL>
    <button onclick="agregarAnimal()">Añadir animal</button>
    <button onclick="insertarAnimal()">Insertar animal</button>
    <button onclick="reemplazarAnimal()">Reemplazar animal</button>
    <button onclick="borrarAnimal()">Borrar animal</button>
    <hr>
    <button onclick="crearSublistaDOM()">Crear Sublista dentro de león con funciones DOM</button>
    <button onclick="crearSublistaInnerHTML()">Crear Sublista dentro de león con InnerHTML</button>
</BODY>
</HTML>